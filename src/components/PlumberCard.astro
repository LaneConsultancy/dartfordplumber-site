---
interface Props {
  name: string;
  address: string;
  phone: string;
  website: string;
  rating: number;
  categories: string[];
  slug: string;
}

const { name, address, phone, website, rating, categories, slug } = Astro.props;
---

<article class="bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow">
  <div class="flex justify-between items-start mb-4">
    <h3 class="text-2xl font-bold text-gray-900">
      <a href={`/plumbers/${slug}`} class="hover:text-blue-600 transition-colors">
        {name}
      </a>
    </h3>
    <div class="flex items-center bg-yellow-50 px-3 py-1 rounded-full">
      <svg class="w-5 h-5 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
      </svg>
      <span class="ml-1 font-semibold text-gray-900">{rating}</span>
    </div>
  </div>

  <div class="space-y-3 mb-4">
    <div class="flex items-start text-gray-600">
      <svg class="w-5 h-5 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
      </svg>
      <span class="text-sm">{address}</span>
    </div>

    <div class="flex flex-wrap gap-2">
      {categories.slice(0, 3).map((category) => (
        <span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded">
          {category}
        </span>
      ))}
    </div>
  </div>

  <div class="flex flex-col sm:flex-row gap-3">
    <a
      href={`tel:${phone.replace(/\s/g, '')}`}
      class="flex-1 bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors text-center"
    >
      Call {phone}
    </a>
    <a
      href={`/plumbers/${slug}`}
      class="flex-1 bg-gray-100 text-gray-900 font-semibold py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors text-center"
    >
      View Details
    </a>
  </div>
</article>
